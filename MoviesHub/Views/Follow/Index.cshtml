@using MoviesWorld_BLL.DTO
@model IEnumerable<MoviesWorld_BLL.DTO.FollowDto>

@{
    ViewData["Title"] = "Abonnements";
}

<div class="d-flex justify-content-center align-items-center">
    <input id="search" class="form-control w-25 m-5" type="text" placeholder="Entrez un prénom..."/>
</div>

<p class="text-success">@TempData["Success"]</p>

<div id="div-table">
    <table id="table-person"></table>
</div>

<div class="m-5">
    <h1 class="text-center">Vos abonnements</h1>
    @if (Model.Any())
    {
        <table class="table table-striped table-dark w-50 m-auto mt-5">
            <thead>
            <tr>
                <th scope="col">Photo de profil</th>
                <th scope="col">Prénom</th>
                <th scope="col">Nom</th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
            @foreach (FollowDto item in Model)
            {
                <tr class="align-baseline fw-bold">
                    <td class="w-25"><img class="img-fluid w-25" src="images/@item.Follow!.Image" alt="@item.Follow.Lastname"/></td>
                    <td>@item.Follow!.Firstname</td>
                    <td>@item.Follow!.Lastname</td>
                    <td class="text-center"><a asp-area="" asp-action="DeleteUser" asp-controller="Follow" asp-route-id="@item.Follow.Id" class="btn btn-primary">Désabonner</a></td>
                </tr>
            }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-center fw-bold">Vous n'avez aucun abonnement pour le moment !</p>
    }
</div>


@section Scripts
{
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="~/js/search.js"></script>
}